(this.webpackJsonpdigital=this.webpackJsonpdigital||[]).push([[0],{238:function(e,t,c){},429:function(e,t,c){"use strict";c.r(t);var r=c(21),n=c(5),a=c(8),i=c(106),s=c.n(i),o=(c(238),c(35)),l=c(20),j=c(26),d=c(81),u=d.a.initializeApp({apiKey:"AIzaSyB59tqQ9ZtedQFRzx473vPw_tU1P7L3hXw",authDomain:"digital-outcome.firebaseapp.com",projectId:"digital-outcome",storageBucket:"digital-outcome.appspot.com",messagingSenderId:"92571311487",appId:"1:92571311487:web:a51e3983d1891a66624e4a",measurementId:"G-EVRZBMWGXM"}),b=c(6),h=Object(j.b)(null,(function(e){return{signOut:function(){return e((function(e,t,c){(0,c.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return Object(b.jsxs)("ul",{className:"right",children:[Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{to:"/create",children:"New Project"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{onClick:e.signOut,children:"Log out"})}),Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{to:"/",className:"btn btn-floating pink lighten-1",children:e.profile.initials})})]})})),O=function(){return Object(b.jsxs)("ul",{className:"right",children:[Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{to:"/signup",children:"Signup"})}),Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{to:"/signin",children:"Login"})})]})},p=Object(j.b)((function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,c=e.profile,r=t.uid?Object(b.jsx)(h,{profile:c}):Object(b.jsx)(O,{});return Object(b.jsx)("nav",{className:"nav-wrapper grey darken-3",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(o.b,{to:"/",className:"brand-logo",children:"Website"}),r]})})})),m=c(111),x=c.n(m),f=function(e){var t=e.project;return Object(b.jsx)("div",{className:"card z-depth-0 project-summary",children:Object(b.jsxs)("div",{className:"card-content grey-text text-darken-3",children:[Object(b.jsx)("span",{className:"card-title",children:t.title}),Object(b.jsxs)("p",{children:["Posted by ",t.authorFirstName," ",t.authorLastName]}),Object(b.jsx)("p",{className:"grey-text",children:x()(t.createdAt.toDate()).calendar()})]})})},g=function(e){var t=e.projects;return Object(b.jsx)("div",{className:"project-list section",children:t&&t.map((function(e){return Object(b.jsx)(o.b,{to:"/project/"+e.id,children:Object(b.jsx)(f,{project:e})},e.id)}))})},N=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:"Notifications"})})},v=c(39),E=c(38);var S=Object(E.c)(Object(j.b)((function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth}})),Object(v.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]}]))((function(e){var t=e.projects;return e.auth.uid?Object(b.jsx)("div",{className:"dashboard container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col s12 m6",children:Object(b.jsx)(g,{projects:t})}),Object(b.jsx)("div",{className:"col s12 m5 offset-m1",children:Object(b.jsx)(N,{})})]})}):Object(b.jsx)(l.a,{to:"/signin"})})),C=Object(E.c)(Object(j.b)((function(e,t){var c=t.match.params.id,r=e.firestore.data.projects;return{project:r?r[c]:null,auth:e.firebase.auth}})),Object(v.firestoreConnect)([{collection:"projects"}]))((function(e){var t=e.project;return e.auth.uid?t?Object(b.jsx)("div",{className:"container section project-details",children:Object(b.jsxs)("div",{className:"card z-depth-0",children:[Object(b.jsxs)("div",{className:"card-content",children:[Object(b.jsx)("span",{className:"card-title",children:t.title}),Object(b.jsx)("p",{children:t.content})]}),Object(b.jsxs)("div",{className:"card-action grey lighten-4 grey-text",children:[Object(b.jsxs)("div",{children:["Posted by ",t.authorFirstName," ",t.authorLastName]}),Object(b.jsx)("div",{children:x()(t.createdAt.toDate()).calendar()})]})]})}):Object(b.jsx)("div",{className:"container center",children:Object(b.jsx)("p",{children:"Loading project..."})}):Object(b.jsx)(l.a,{to:"/signin"})})),F=c(16);var w=Object(j.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((c=t,function(e,t,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(c.email,c.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var c}}}))((function(e){var t=e.authError,c=e.auth,i=Object(a.useState)({email:"",password:""}),s=Object(F.a)(i,2),o=s[0],j=s[1],d=function(e){j(Object(r.a)(Object(r.a)({},o),{},Object(n.a)({},e.target.id,e.target.value)))};return c.uid?Object(b.jsx)(l.a,{to:"/"}):Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.signIn(o)},className:"white",children:[Object(b.jsx)("h5",{children:"Sign in"}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email",onChange:d})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password",onChange:d})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("button",{className:"btn pink lighten-1 z-depth-0",children:"Login"}),Object(b.jsx)("div",{className:"red-text center",children:t?Object(b.jsx)("p",{children:" Auth Error "}):null})]})]})})}));var R=Object(j.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,c,r){var n=r.getFirebase,a=r.getFirestore,i=n(),s=a(u);i.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return s.collection("user").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.auth,c=e.authError,i=Object(a.useState)({email:"",password:"",firstName:"",lastName:"",phoneNumber:""}),s=Object(F.a)(i,2),o=s[0],j=s[1],d=function(e){j(Object(r.a)(Object(r.a)({},o),{},Object(n.a)({},e.target.id,e.target.value)))};return t.uid?Object(b.jsx)(l.a,{to:"/"}):Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log(o),e.signUp(o)},className:"white",children:[Object(b.jsx)("h5",{children:"Sign Up"}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(b.jsx)("input",{type:"text",id:"firstName",onChange:d,required:!0})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(b.jsx)("input",{type:"text",id:"lastName",onChange:d,required:!0})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email",onChange:d,required:!0})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password",onChange:d,required:!0})]}),Object(b.jsx)("div",{className:"input-field",children:Object(b.jsx)("button",{className:"btn pink lighten-1 z-depth-0",children:"Sign up"})}),Object(b.jsx)("div",{className:"red-text center",children:c?Object(b.jsx)("p",{children:c}):null})]})})}));var y=Object(j.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,c,n){n.getFirebase;var a=n.getFirestore,i=c().firebase.profile,s=c().firebase.auth.uid;a(u).collection("projects").add(Object(r.a)(Object(r.a)({},e),{},{authorFirstName:i.firstName,authorLastName:i.lastName,authorID:s,createdAt:new Date})).then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(a.useState)({title:"",content:""}),c=Object(F.a)(t,2),i=c[0],s=c[1],o=function(e){s(Object(r.a)(Object(r.a)({},i),{},Object(n.a)({},e.target.id,e.target.value)))};return e.auth.uid?Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.createProject(i),e.history.push("/")},className:"white",children:[Object(b.jsx)("h5",{children:"Create new project"}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{type:"text",id:"title",onChange:o})]}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{htmlFor:"content",children:"Content"}),Object(b.jsx)("textarea",{id:"content",className:"materialize-textarea",onChange:o})]}),Object(b.jsx)("div",{className:"input-field",children:Object(b.jsx)("button",{className:"btn pink lighten-1 z-depth-0",children:"Create"})})]})}):Object(b.jsx)(l.a,{to:"signin"})}));var I,P=function(){return Object(b.jsx)(o.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(p,{}),Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{exact:!0,path:"/",component:S}),Object(b.jsx)(l.b,{path:"/project/:id",component:C}),Object(b.jsx)(l.b,{path:"/signin",component:w}),Object(b.jsx)(l.b,{path:"/signup",component:R}),Object(b.jsx)(l.b,{path:"/create",component:y})]})]})})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,430)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),r(e),n(e),a(e),i(e)}))},A={authError:null},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("Login Failed"),Object(r.a)(Object(r.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("Login Success"),Object(r.a)(Object(r.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("Signup Success"),Object(r.a)(Object(r.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("Signup Error"),Object(r.a)(Object(r.a)({},e),{},{authError:t.err.message});default:return e}},_={projects:[{id:"1",title:"Code does work",content:"blah blah blah"},{id:"2",title:"SAM IS THE MAN",content:"blah blah blah"},{id:"3",title:"Now it doesnt",content:"blah blah blah"}]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return console.log("created project",t.project),e;case"CREATE_PROJECT_ERROR":return console.log("created project error",t.err),e;default:return e}},G=c(66),k=Object(E.b)({auth:U,project:T,firestore:G.firestoreReducer,firebase:v.firebaseReducer}),z=c(233),D=Object(E.d)(k,Object(E.c)(Object(E.a)(z.a.withExtraArgument({getFirebase:v.getFirebase,getFirestore:G.getFirestore})),Object(G.reduxFirestore)(d.a,u))),B=(I={firebase:d.a,config:u},Object(n.a)(I,"config",{userProfile:"user",useFirestoreForProfile:!0,enableRedirectHandling:!1,resetBeforeLogin:!1}),Object(n.a)(I,"dispatch",D.dispatch),Object(n.a)(I,"createFirestoreInstance",G.createFirestoreInstance),I);function J(e){var t=e.children,c=Object(j.c)((function(e){return e.firebase.auth}));return Object(v.isLoaded)(c)?t:Object(b.jsx)("div",{className:"white-text",children:"Loading Screen..."})}s.a.render(Object(b.jsx)(j.a,{store:D,children:Object(b.jsx)(v.ReactReduxFirebaseProvider,Object(r.a)(Object(r.a)({},B),{},{children:Object(b.jsx)(J,{children:Object(b.jsx)(P,{})})}))}),document.getElementById("root")),L()}},[[429,1,2]]]);
//# sourceMappingURL=main.39fff3e7.chunk.js.map